<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Blend Optimizer vNext</title>
	<!-- bower styles -->
	<link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
	<link href="bower_components/font-awesome/css/font-awesome.css" rel="stylesheet">
	<link href="bower_components/animate.css/animate.css" rel="stylesheet">
	<link href="bower_components/footable-v3/src/css/FooTable.css" rel="stylesheet">
	<link href="bower_components/chosen/chosen.css" rel="stylesheet">
	<link href="bower_components/nouislider/distribute/nouislider.min.css" rel="stylesheet">
	<!-- custom styles -->
	<link href="css/inspinia.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<!-- page styles -->
	<link href="css/draftBlend.css" rel="stylesheet">
</head>
<body>
<!-- bower scripts-->
<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
<script src="bower_components/mustache/mustache.js"></script>
<script src="bower_components/lodash/dist/lodash.js"></script>
<script src="bower_components/Sortable/Sortable.js"></script>
<script src="bower_components/footable-v3/src/js/FooTable.js"></script>
<script src="bower_components/chosen/chosen.jquery.js"></script>
<script src="bower_components/nouislider/distribute/nouislider.js"></script>
<script src="bower_components/wnumb/wNumb.js"></script>
<script src="bower_components/Chart.js/Chart.js"></script>
<!-- custom scripts -->
<script src="js/inspinia.js"></script>
<script src="js/app.js"></script>
<!-- page scripts -->
<script src="js/draftBlend.js"></script>
<script>
	$(document).ready(function () {
		App.render(DraftBlend.render)
			.done(function () {
				var radarData = {
					labels: ["Melt", "IZOD", "Density", "NCLS"],
					datasets: [
						{
							label: "low",
							fillColor: "rgba(220,220,220,0.2)",
							strokeColor: "rgba(220,220,220,1)",
							pointColor: "rgba(220,220,220,1)",
							pointStrokeColor: "#fff",
							pointHighlightFill: "#fff",
							pointHighlightStroke: "rgba(220,220,220,1)",
							data: [65, 59, 90, 81]
						},
						{
							label: "actual",
							fillColor: "rgba(255,0,0,0.2)",
							strokeColor: "rgba(26,179,148,1)",
							pointColor: "rgba(26,179,148,1)",
							pointStrokeColor: "#fff",
							pointHighlightFill: "#fff",
							pointHighlightStroke: "rgba(255,0,0,1)",
							data: [28, 48, 40, 19]
						},
						{
							label: "high",
							fillColor: "rgba(255,0,0,0.2)",
							strokeColor: "rgba(26,179,148,1)",
							pointColor: "rgba(26,179,148,1)",
							pointStrokeColor: "#fff",
							pointHighlightFill: "#fff",
							pointHighlightStroke: "rgba(255,0,0,1)",
							data: [28, 48, 40, 19]
						}
					]
				};

				var radarOptions = {
					scaleShowLine: true,
					angleShowLineOut: true,
					scaleShowLabels: false,
					scaleBeginAtZero: true,
					angleLineColor: "rgba(0,0,0,.1)",
					angleLineWidth: 1,
					pointLabelFontFamily: "'Arial'",
					pointLabelFontStyle: "normal",
					pointLabelFontSize: 10,
					pointLabelFontColor: "#666",
					pointDot: true,
					pointDotRadius: 3,
					pointDotStrokeWidth: 1,
					pointHitDetectionRadius: 20,
					datasetStroke: true,
					datasetStrokeWidth: 2,
					datasetFill: true,
					responsive: true
				};

				var ctx = document.getElementById('radarChart').getContext("2d");
				var myNewChart = new Chart(ctx).Radar(radarData, radarOptions);

				var virgin_bucket_slider = document.getElementById('virgin_bucket_slider');

				noUiSlider.create(virgin_bucket_slider, {
					start: [30, 70],
					behaviour: 'drag',
					connect: true,
					range: {
						'min': 0,
						'max': 100
					},
					pips: {
						mode: 'values',
						values: [20, 80],
						density: 4
					}
				});
				var snapValues = [
					document.getElementById('virgin_slider-snap-value-lower'),
					document.getElementById('virgin_slider-snap-value-upper')
				];

                virgin_bucket_slider.noUiSlider.on('update', function (values, handle) {
					snapValues[handle].innerHTML = values[handle];
				});
                virgin_bucket_slider.noUiSlider.on('change', function ( values, handle ) {
					if ( values[handle] < 20 ) {
                        virgin_bucket_slider.noUiSlider.set(20);
					} else if ( values[handle] > 80 ) {
                        virgin_bucket_slider.noUiSlider.set(80);
					}
				});

                var regrind_bucket_slider = document.getElementById('regrind_bucket_slider');

                noUiSlider.create(regrind_bucket_slider, {
                    start: [30, 70],
                    behaviour: 'drag',
                    connect: true,
                    range: {
                        'min': 0,
                        'max': 100
                    },
                    pips: {
                        mode: 'values',
                        values: [20, 80],
                        density: 4
                    }
                });
                var snapValues = [
                    document.getElementById('regrind_slider-snap-value-lower'),
                    document.getElementById('regrind_slider-snap-value-upper')
                ];

                regrind_bucket_slider.noUiSlider.on('update', function (values, handle) {
                    snapValues[handle].innerHTML = values[handle];
                });
                regrind_bucket_slider.noUiSlider.on('change', function ( values, handle ) {
                    if ( values[handle] < 20 ) {
                        regrind_bucket_slider.noUiSlider.set(20);
                    } else if ( values[handle] > 80 ) {
                        regrind_bucket_slider.noUiSlider.set(80);
                    }
                });

                var spec_bucket_slider = document.getElementById('spec_bucket_slider');

                noUiSlider.create(spec_bucket_slider, {
                    start: [30, 70],
                    behaviour: 'drag',
                    connect: true,
                    range: {
                        'min': 0,
                        'max': 100
                    },
                    pips: {
                        mode: 'values',
                        values: [20, 80],
                        density: 4
                    }
                });
                var snapValues = [
                    document.getElementById('spec_slider-snap-value-lower'),
                    document.getElementById('spec_slider-snap-value-upper')
                ];

                spec_bucket_slider.noUiSlider.on('update', function (values, handle) {
                    snapValues[handle].innerHTML = values[handle];
                });
                spec_bucket_slider.noUiSlider.on('change', function ( values, handle ) {
                    if ( values[handle] < 20 ) {
                        spec_bucket_slider.noUiSlider.set(20);
                    } else if ( values[handle] > 80 ) {
                        spec_bucket_slider.noUiSlider.set(80);
                    }
                });

                var flake_bucket_slider = document.getElementById('flake_bucket_slider');

                noUiSlider.create(flake_bucket_slider, {
                    start: [30, 70],
                    behaviour: 'drag',
                    connect: true,
                    range: {
                        'min': 0,
                        'max': 100
                    },
                    pips: {
                        mode: 'values',
                        values: [20, 80],
                        density: 4
                    }
                });
                var snapValues = [
                    document.getElementById('flake_slider-snap-value-lower'),
                    document.getElementById('flake_slider-snap-value-upper')
                ];

                flake_bucket_slider.noUiSlider.on('update', function (values, handle) {
                    snapValues[handle].innerHTML = values[handle];
                });
                flake_bucket_slider.noUiSlider.on('change', function ( values, handle ) {
                    if ( values[handle] < 20 ) {
                        flake_bucket_slider.noUiSlider.set(20);
                    } else if ( values[handle] > 80 ) {
                        flake_bucket_slider.noUiSlider.set(80);
                    }
                });

                var lot_1_slider = document.getElementById('lot_1_slider');

                noUiSlider.create(lot_1_slider, {
                    start: [30, 70],
                    behaviour: 'drag',
                    connect: true,
                    range: {
                        'min': 0,
                        'max': 100
                    },
                    pips: {
                        mode: 'values',
                        values: [20, 80],
                        density: 4
                    },
                    format: wNumb({
                        decimals: 0,
                        postfix: ' %'
                    })
                });
                var snapValues = [
                    document.getElementById('lot_1_slider-snap-value-lower'),
                    document.getElementById('lot_1_slider-snap-value-upper')
                ];

                lot_1_slider.noUiSlider.on('update', function (values, handle) {
                    snapValues[handle].innerHTML = values[handle];
                });
                lot_1_slider.noUiSlider.on('change', function ( values, handle ) {
                    if ( values[handle] < 20 ) {
                        lot_1_slider.noUiSlider.set(20);
                    } else if ( values[handle] > 80 ) {
                        lot_1_slider.noUiSlider.set(80);
                    }
                });

                var lot_2_slider = document.getElementById('lot_2_slider');

                noUiSlider.create(lot_2_slider, {
                    start: [30, 70],
                    behaviour: 'drag',
                    connect: true,
                    range: {
                        'min': 0,
                        'max': 100
                    },
                    pips: {
                        mode: 'values',
                        values: [20, 80],
                        density: 4
                    },
                    format: wNumb({
                        decimals: 0,
                        postfix: ' %'
                    })
                });
                var snapValues = [
                    document.getElementById('lot_2_slider-snap-value-lower'),
                    document.getElementById('lot_2_slider-snap-value-upper')
                ];

                lot_2_slider.noUiSlider.on('update', function (values, handle) {
                    snapValues[handle].innerHTML = values[handle];
                });
                lot_2_slider.noUiSlider.on('change', function ( values, handle ) {
                    if ( values[handle] < 20 ) {
                        lot_2_slider.noUiSlider.set(20);
                    } else if ( values[handle] > 80 ) {
                        lot_2_slider.noUiSlider.set(80);
                    }
                });

                var lot_3_slider = document.getElementById('lot_3_slider');

                noUiSlider.create(lot_3_slider, {
                    start: [30, 70],
                    behaviour: 'drag',
                    connect: true,
                    range: {
                        'min': 0,
                        'max': 100
                    },
                    pips: {
                        mode: 'values',
                        values: [20, 80],
                        density: 4
                    },
                    format: wNumb({
                        decimals: 0,
                        postfix: ' %'
                    })
                });
                var snapValues = [
                    document.getElementById('lot_3_slider-snap-value-lower'),
                    document.getElementById('lot_3_slider-snap-value-upper')
                ];

                lot_3_slider.noUiSlider.on('update', function (values, handle) {
                    snapValues[handle].innerHTML = values[handle];
                });
                lot_3_slider.noUiSlider.on('change', function ( values, handle ) {
                    if ( values[handle] < 20 ) {
                        lot_3_slider.noUiSlider.set(20);
                    } else if ( values[handle] > 80 ) {
                        lot_3_slider.noUiSlider.set(80);
                    }
                });

                var lot_4_slider = document.getElementById('lot_4_slider');

                noUiSlider.create(lot_4_slider, {
                    start: [30, 70],
                    behaviour: 'drag',
                    connect: true,
                    range: {
                        'min': 0,
                        'max': 100
                    },
                    pips: {
                        mode: 'values',
                        values: [20, 80],
                        density: 4
                    },
                    format: wNumb({
                        decimals: 0,
                        postfix: ' %'
                    })
                });
                var snapValues = [
                    document.getElementById('lot_4_slider-snap-value-lower'),
                    document.getElementById('lot_4_slider-snap-value-upper')
                ];

                lot_4_slider.noUiSlider.on('update', function (values, handle) {
                    snapValues[handle].innerHTML = values[handle];
                });
                lot_4_slider.noUiSlider.on('change', function ( values, handle ) {
                    if ( values[handle] < 20 ) {
                        lot_4_slider.noUiSlider.set(20);
                    } else if ( values[handle] > 80 ) {
                        lot_4_slider.noUiSlider.set(80);
                    }
                });
			});
	});
</script>
</body>
</html>
